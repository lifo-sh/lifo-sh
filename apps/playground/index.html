<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Lifo - Examples</title>
</head>

<body>
	<!-- Mobile header (hidden on desktop) -->
	<div id="mobile-header"
		class="flex items-center justify-between px-4 h-12 bg-tokyo-bg-dark border-b border-tokyo-border lg:hidden">
		<button id="sidebar-toggle" class="flex items-center gap-2 text-tokyo-muted text-sm">
			<svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
			</svg>
			<span class="font-semibold text-tokyo-fg-bright">Lifo</span>
		</button>
		<button id="code-toggle"
			class="px-3 py-1 text-xs font-medium rounded border border-tokyo-border text-tokyo-muted hover:text-tokyo-fg-bright hover:bg-tokyo-hover transition-colors">
			Code
		</button>
	</div>

	<!-- Sidebar backdrop (mobile only) -->
	<div id="sidebar-backdrop" class="fixed inset-0 bg-black/50 z-40 hidden lg:hidden"></div>

	<div class="app flex h-[calc(100%-48px)] lg:h-full">
		<!-- Column 1: Sidebar -->
		<nav id="sidebar"
			class="fixed z-50 top-0 left-0 h-full w-[200px] min-w-[200px] bg-tokyo-bg-dark border-r border-tokyo-border flex flex-col overflow-y-auto -translate-x-full transition-transform duration-200 lg:static lg:translate-x-0 lg:z-auto">
			<div class="p-4 pb-3 border-b border-tokyo-border">
				<h1 class="text-lg font-bold text-tokyo-fg-bright tracking-tight">Lifo</h1>
				<p class="text-[11px] text-tokyo-comment mt-1">Sandbox Examples</p>
			</div>
			<div class="py-3">
				<div class="text-[10px] font-semibold uppercase tracking-widest text-tokyo-comment px-4 pb-1.5">Examples</div>
				<button
					class="sidebar-item active block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="interactive">Interactive Shell</button>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="headless">Headless / AI Agent</button>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="multi">Multi Terminal</button>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="http">HTTP Server</button>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="explorer">File Explorer</button>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="npm">npm</button>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="cli">CLI (Node.js)</button>
			</div>
			<div class="py-3 border-t border-tokyo-border">
				<div class="text-[10px] font-semibold uppercase tracking-widest text-tokyo-comment px-4 pb-1.5">Installable
					Packages</div>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="git">Git</button>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="ffmpeg">FFmpeg</button>
			</div>
			<div class="py-3 border-t border-tokyo-border">
				<div class="text-[10px] font-semibold uppercase tracking-widest text-tokyo-comment px-4 pb-1.5">Develop</div>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="lifo-pkg">Lifo Package Manager</button>
				<button
					class="sidebar-item block w-full px-4 py-2 bg-transparent border-none text-tokyo-muted text-[13px] text-left cursor-pointer transition-colors hover:bg-tokyo-hover hover:text-tokyo-fg-bright"
					data-example="build-pkg">Build Lifo Packages</button>
			</div>
		</nav>

		<!-- Column 2: Code -->
		<div id="col-code"
			class="hidden lg:flex w-[380px] min-w-[300px] border-r border-tokyo-border flex-col overflow-hidden">
			<div class="px-4 py-2.5 border-b border-tokyo-border shrink-0">
				<div class="text-[10px] font-semibold uppercase tracking-widest text-tokyo-comment">Code</div>
			</div>
			<div class="flex-1 p-4 overflow-y-auto">
				<div id="code-block"
					class="bg-tokyo-bg-dark border border-tokyo-border rounded-md px-4 py-3.5 font-code text-xs leading-relaxed whitespace-pre overflow-x-auto text-tokyo-fg">
				</div>
			</div>
		</div>

		<!-- Column 3: Output -->
		<div class="flex-1 flex flex-col min-w-0 overflow-hidden">
			<div class="px-4 py-2.5 border-b border-tokyo-border shrink-0 hidden lg:block">
				<div class="text-[10px] font-semibold uppercase tracking-widest text-tokyo-comment">Output</div>
			</div>
			<div class="flex-1 p-4 overflow-hidden flex flex-col min-h-0">
				<!-- Interactive -->
				<div id="out-interactive" class="output-panel active">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">Interactive Shell</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Full interactive terminal with persistence</div>
					<div class="w-full rounded-lg overflow-hidden border border-tokyo-border p-2 bg-tokyo-bg flex-1">
						<div id="terminal-interactive" class="w-full h-full"></div>
					</div>
				</div>

				<!-- Headless -->
				<div id="out-headless" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">Headless / AI Agent</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Programmatic command execution -- no terminal UI</div>
					<div class="flex flex-col gap-2.5 flex-1 min-h-0">
						<button id="headless-run"
							class="inline-block px-4 py-[7px] bg-tokyo-blue text-tokyo-bg text-xs font-semibold border-none rounded-[5px] cursor-pointer transition-colors hover:bg-tokyo-blue-bright disabled:opacity-50 disabled:cursor-not-allowed shrink-0 self-start">Run
							Example</button>
						<div id="headless-output"
							class="flex-1 bg-tokyo-bg-dark border border-tokyo-border rounded-md px-4 py-3.5 font-code text-xs leading-relaxed whitespace-pre-wrap text-tokyo-fg overflow-y-auto">
							Click "Run Example" to execute...</div>
					</div>
				</div>

				<!-- Multi Terminal -->
				<div id="out-multi" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">Multi Terminal</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Multiple shells sharing one Sandbox -- files are shared
						across tabs</div>
					<div class="flex flex-col flex-1 min-h-0">
						<div
							class="flex items-center gap-0.5 bg-tokyo-bg-dark border border-tokyo-border border-b-0 rounded-t-lg px-1 min-h-[34px] shrink-0"
							id="multi-tab-bar">
							<button
								class="px-2.5 py-[3px] bg-transparent border border-tokyo-border text-tokyo-comment text-sm font-normal cursor-pointer rounded-[4px] ml-0.5 leading-none transition-colors hover:text-tokyo-muted hover:bg-tokyo-hover hover:border-tokyo-comment"
								id="multi-add-tab" title="New terminal">+</button>
						</div>
						<div class="flex-1 relative border border-tokyo-border border-t-0 rounded-b-lg overflow-hidden"
							id="multi-tab-panels"></div>
					</div>
				</div>

				<!-- HTTP Server -->
				<div id="out-http" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">HTTP Server</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Virtual HTTP server -- run <code>node server.js</code> in
						Server tab, then <code>curl localhost:3000</code> in Client tab</div>



					<div class="flex flex-col flex-1 min-h-0">
						<div
							class="flex items-center gap-0.5 bg-tokyo-bg-dark border border-tokyo-border border-b-0 rounded-t-lg px-1 min-h-[34px] shrink-0"
							id="http-tab-bar"></div>
						<div class="flex-1 relative border border-tokyo-border border-t-0 rounded-b-lg overflow-hidden"
							id="http-tab-panels"></div>
					</div>
				</div>

				<!-- File Explorer -->
				<div id="out-explorer" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">File Explorer</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Visual file manager with Monaco editor -- drag &amp; drop
						to upload, right-click for actions, changes sync live with terminal</div>
					<div class="flex flex-col flex-1 min-h-0 gap-2">
						<div class="flex-1 rounded-lg overflow-hidden border border-tokyo-border min-h-0" id="explorer-panel"></div>
						<div class="h-[200px] shrink-0 rounded-lg overflow-hidden border border-tokyo-border p-2 bg-tokyo-bg"
							id="explorer-terminal"></div>
					</div>
				</div>

				<!-- Git -->
				<div id="out-git" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">Git</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Git via <code>lifo-pkg-git</code> -- powered by
						isomorphic-git. Try <code>git init</code>, <code>git add</code>, <code>git commit</code>, branching, and
						more</div>
					<div class="w-full rounded-lg overflow-hidden border border-tokyo-border p-2 bg-tokyo-bg flex-1">
						<div id="terminal-git" class="w-full h-full"></div>
					</div>
				</div>

				<!-- FFmpeg -->
				<div id="out-ffmpeg" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">FFmpeg</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Video/audio processing with ffmpeg.wasm -- upload media,
						run ffmpeg commands, download results</div>
					<div class="flex flex-col flex-1 min-h-0 gap-2">
						<div class="flex-1 rounded-lg overflow-hidden border border-tokyo-border min-h-0"
							id="ffmpeg-explorer-panel"></div>
						<div class="h-[200px] shrink-0 rounded-lg overflow-hidden border border-tokyo-border p-2 bg-tokyo-bg"
							id="ffmpeg-terminal"></div>
					</div>
				</div>

				<!-- npm -->
				<div id="out-npm" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">npm</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Install real packages from the npm registry -- try
						<code>npm install cowsay -g && cowsay hello</code></div>
					<div class="w-full rounded-lg overflow-hidden border border-tokyo-border p-2 bg-tokyo-bg flex-1">
						<div id="terminal-npm" class="w-full h-full"></div>
					</div>
				</div>

				<!-- CLI (Node.js) -->
				<div id="out-cli" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">CLI (Node.js)</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Run Lifo in your terminal with <code>npx lifo-sh</code> --
						mount host directories for real file access</div>
					<div class="flex flex-col gap-2.5 flex-1 min-h-0">
						<div id="cli-output"
							class="flex-1 bg-tokyo-bg-dark border border-tokyo-border rounded-md px-4 py-3.5 font-code text-xs leading-relaxed whitespace-pre-wrap text-tokyo-fg overflow-y-auto">
						</div>
					</div>
				</div>

				<!-- Lifo Package Manager -->
				<div id="out-lifo-pkg" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">Lifo Package Manager</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">Install and manage packages with the <code>lifo</code>
						command</div>
					<div class="flex flex-col gap-2.5 flex-1 min-h-0">
						<div id="lifo-pkg-output"
							class="flex-1 bg-tokyo-bg-dark border border-tokyo-border rounded-md px-4 py-3.5 font-code text-xs leading-relaxed whitespace-pre-wrap text-tokyo-fg overflow-y-auto">
						</div>
					</div>
				</div>

				<!-- Build Lifo Packages -->
				<div id="out-build-pkg" class="output-panel">
					<div class="text-[13px] font-semibold text-tokyo-fg-bright mb-0.5">Build Lifo Packages</div>
					<div class="text-[11px] text-tokyo-comment mb-3.5">How to create, develop, and publish <code>lifo-pkg-*</code>
						packages</div>
					<div class="flex flex-col gap-2.5 flex-1 min-h-0">
						<div id="build-pkg-output"
							class="flex-1 bg-tokyo-bg-dark border border-tokyo-border rounded-md px-4 py-3.5 font-code text-xs leading-relaxed whitespace-pre-wrap text-tokyo-fg overflow-y-auto">
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="module" src="/src/main.ts"></script>
</body>

</html>